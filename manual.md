# マニュアル

## 例文追加者になりたい人
* [jekto.vatimeliju](https://twitter.com/sosobotpi) とかに連絡し、[Google Sheets](https://docs.google.com/spreadsheets/d/1WrKg-g26ZugYfwKEuTEWEGg4oyeb7sl6DGJ4hcWuOho/edit#gid=24700208) の編集権をもらう
* このリポジトリに書き込む権利をもらう

## Google Sheets への例文追加
* 例文をどうにかして思いつく。思いつかなかった場合、[ﾃﾞｨｰﾌﾟﾗｰﾆﾝｸﾞってやつでなんとかする](http://jurliyuuri.com/spoonfed_pekzep/12.html)ためのページを作ったので頑張れ。
* [Google Sheets](https://docs.google.com/spreadsheets/d/1WrKg-g26ZugYfwKEuTEWEGg4oyeb7sl6DGJ4hcWuOho/edit#gid=24700208) に行を追加する
* 行に英語を入れ、（DeepLなどを使っていいので）中国語を入れ、（Google翻訳が生成する低精度のでもいいので）拼音を入れて、文を訳せるなら牌訳（ラテン字転写）して、その一つ右の行に@を入れる。なお、未査読牌文は文字色を青にし、未査読マーカーの@は背景色を紺にする慣習がある。
* シート「未査読」に行を追加する。
* シート「進捗履歴」の末尾に行を追加する。
    - 英文の列・拼音の列・中国語の列のどれかを選択（列名である「A」とかをクリックすることで容易に行うことができる）すると、右下に例文の個数が出るので、それをシート「進捗履歴」の「ゴール」列に書く。
    - 「青=未査読」列には、シート「未査読」にある例文の個数を書く。
    - 「進捗」列には、牌音の列を選択することで出る個数を記載する。
    - 「録音進捗」は録音列（GまたはH列）の個数、「gloss進捗」はgloss列（F列）の個数、「差し替えが必要」は差し替えフラグ列（I列）の個数、「yuugokku」はユーゴック列（J列）の個数を記載。
    - 「空欄」「完了予定」「削り」「増やし」列は、直上のセルの計算式をコピペすることで完了する。

## Google Sheets へのグロス追加
（説明が面倒になったので直接訊いてください）

## このリポジトリへの例文追加
査読が完了したタイミングなどで行う。別にそれ以外で行ってもよい。

* 漢字転写欄に査読済みを表す「^」がある場合、手動で適切な漢字転写を入力する。未査読「@」はページ生成時に無視されるのでそのままでよい。
* Google Sheets から「SpoonfedPekzep」シートと「語彙整理（超草案）」シートをtsvでダウンロードして、このリポジトリのrawフォルダ直下に置く。
* Rust環境がセットアップされていないのなら、[Rustを入れる](https://www.rust-lang.org/learn/get-started)。
* `cargo run` を走らせることでページを生成する。なお、異常終了した場合はどっかにミスがあるので、その際は Google Sheets を適切に修正し、tsvを再ダウンロードして再び走らせよ。たまに字音.tsvを更新しなければならないこともあるので頑張れ。

## 査読者（=SY）
* 「SpoonfedPekzep」シートを「@」で検索して、文が適切だと感じたら、「@」を「^」に変えることで査読完了を表す。不適切だと感じたら、直すか、「懸案」シートに牌文を転送してもらうよう例文追加者に頼むべし。

## 録音者
もう長いこと録音やってないからやり方忘れた
